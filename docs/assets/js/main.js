"use strict";const api="http://api.tvmaze.com/search/shows?q=",input=document.querySelector("#search"),films=document.querySelector(".films"),btn=document.querySelector(".btn");let arrayFilms=[];const search=()=>{const s=input.value;fetch(api+s).then(s=>s.json()).then(s=>{let i="";for(let l=0;l<s.length;l++){const t=s[l].show.name,e=s[l].show.image,c=s[l].show.id;i+=null===e?`<li class="films__list">\n        <div class="container__films">\n        <div class="films__list-id">${c}</div>\n        <img src="https://via.placeholder.com/210x295/cccccc/666666/?text=TV" class="films__list-img">\n        <h2 class="films__list-name">${t}</h2>\n        </div>\n        </li>`:`<li class="films__list">\n        <div class="container__films">\n        <div class="films__list-id">${c}</div>\n        <img src="${e.original}" class="films__list-img">\n        <h2 class="films__list-name">${t}</h2>\n        </div>\n        </li>`,films.innerHTML=i;const n=document.querySelectorAll(".films__list");for(let s=0;s<n.length;s++)n[s].addEventListener("click",favorite)}})};function favorite(s){const i=s.currentTarget,l=i.querySelector(".films__list-id").innerHTML;if(i.classList.toggle("marFavorit"),arrayFilms.includes(l)){const s=arrayFilms.indexOf(l);arrayFilms.splice(s,1)}else arrayFilms.push(l);localStorage.setItem("favorit",arrayFilms)}btn.addEventListener("click",search);